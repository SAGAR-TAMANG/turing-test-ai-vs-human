{% load static %}
{% load pwa %}

<!DOCTYPE html>
<html lang="en">
<head>
  <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-3Z51SWLH39"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-3Z51SWLH39');
  </script> -->
  {% progressive_web_app_meta %}
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.1/gsap.min.js"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  {% block metadata %}
  {% endblock %}
  <title>
    {% block title %}
    {% endblock %}
  </title>
  <link rel="icon" href="{% static 'img/favicon.png' %}" type="image/png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="{% static 'css/bootstrap-lux.css' %}">
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  {% block style %}
  {% endblock %}
</head>
<body>
  <div class="toast-container position-fixed bottom-0 end-0 p-3">
    <div id="autoHideToast" class="toast align-items-center text-bg-primary border-0" role="alert" 
         aria-live="assertive" aria-atomic="true" 
         data-bs-autohide="true" data-bs-delay="5000">
        <div class="d-flex">
            <div class="toast-body">
                {{ message|default:"No Messages" }}
            </div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
    </div>
  </div>
  {% block content %}
  {% endblock %}
  <script src="{% static 'js/htmx.min.js' %}"></script>
  <script src="https://unpkg.com/htmx.org@1.9.12/dist/ext/ws.js"></script>
  <script src="{% static 'js/bootstrap.bundle.js' %}"></script>
  {% block javascript %}
  {% endblock %}
  <script>
    nav_btn = document.querySelector('.navbar-toggler');
    main = document.querySelector('main');

    nav_btn.addEventListener('click', () => {
      main.classList.toggle('main');
    });
    
    // Toast
    const toastElement = document.getElementById('autoHideToast');
    const toast = new bootstrap.Toast(toastElement);
    {% if message %}
        toast.show();
    {% endif %}
    </script>  
</body>
</html>